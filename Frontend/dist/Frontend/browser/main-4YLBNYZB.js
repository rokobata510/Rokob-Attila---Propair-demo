import{a as k,b as I,c as S,d as T,f as w,g as b}from"./chunk-6ULCIXZT.js";import"./chunk-DWXXLZVK.js";import{Aa as n,Ba as A,Da as C,I as l,K as h,N as u,O as c,Y as d,Z as f,ia as g,pa as v,ya as r,za as i}from"./chunk-A3XFVUKG.js";var a=class t{constructor(e){this.http=e;this._isAuthenticated.set(!!localStorage.getItem("auth_token"))}apiUrl="UPDATETHIS/auth";_isAuthenticated=f(!1);isAuthenticated=this._isAuthenticated.asReadonly();register(e){return this.http.post(`${this.apiUrl}/register`,e)}login(e){return this.http.post(`${this.apiUrl}/login`,e).pipe(l(o=>{localStorage.setItem("auth_token",o.token),this._isAuthenticated.set(!0)}))}logout(){localStorage.removeItem("auth_token"),this._isAuthenticated.set(!1)}static \u0275fac=function(o){return new(o||t)(u(I))};static \u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"})};var p=()=>{let t=c(a),e=c(w);return t.isAuthenticated()?!0:(e.navigate(["/login"]),!1)};var x=[{path:"register",loadComponent:()=>import("./chunk-X7KI4F54.js").then(t=>t.Register)},{path:"login",loadComponent:()=>import("./chunk-YJVHBCCY.js").then(t=>t.Login)},{path:"tickets",loadComponent:()=>import("./chunk-TCKTXX5F.js").then(t=>t.TicketList),canActivate:[p]},{path:"tickets/create",loadComponent:()=>import("./chunk-3KNPKDZH.js").then(t=>t.TicketCreateComponent),canActivate:[p]},{path:"tickets/:id",loadComponent:()=>import("./chunk-JDGT25SA.js").then(t=>t.TicketDetailComponent),canActivate:[p]},{path:"",redirectTo:"/tickets",pathMatch:"full"}];var F=(t,e)=>{let o=localStorage.getItem("auth_token"),m=t.clone({setHeaders:{Authorization:`Bearer ${o}`}});return e(m)};var H={providers:[d(),C({eventCoalescing:!0}),b(x),S(T([F]))]};var s=class t{title="Frontend";static \u0275fac=function(o){return new(o||t)};static \u0275cmp=v({type:t,selectors:[["app-root"]],decls:9,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["href",g`/`]],template:function(o,m){o&1&&(r(0,"html",0)(1,"head"),n(2,"meta",1)(3,"meta",2),r(4,"title"),A(5,"Issue Tracker Lite"),i(),n(6,"base",3),i(),r(7,"body"),n(8,"app-root"),i()())},dependencies:[t],encapsulation:2})};k(s,H).catch(t=>console.error(t));
