import{b as l,e as d}from"./chunk-6ULCIXZT.js";import{a as h,c as o}from"./chunk-FWZCJPIS.js";import"./chunk-DWXXLZVK.js";import{Ba as u,K as n,N as a,la as s,pa as c,ya as p,za as m}from"./chunk-A3XFVUKG.js";var r=class i{constructor(t){this.http=t}getTicket(t){return this.http.get(`${this.apiUrl}/${t}`)}apiUrl="UPDATETHIS/tickets";createTicket(t){return this.http.post(this.apiUrl,t)}getTickets(){return this.http.get(this.apiUrl)}updateStatus(t,e){return this.http.patch(`${this.apiUrl}/${t}/status`,{status:e})}addComment(t,e){return this.http.post(`${this.apiUrl}/${t}/comments`,{text:e})}static \u0275fac=function(e){return new(e||i)(a(l))};static \u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"})};var f=class i{constructor(t,e){this.route=t;this.ticketService=e}ticket;statusForm=new o;commentForm=new o("",h.required);statusOptions=["Open","In Progress","Resolved","Closed"];ngOnInit(){let t=this.route.snapshot.paramMap.get("id");this.ticketService.getTicket(t).subscribe(e=>{this.ticket=e,this.statusForm.setValue(e.status)})}updateStatus(){this.ticketService.updateStatus(this.ticket.id,this.statusForm.value).subscribe()}addComment(){let t=this.commentForm.value||"";this.ticketService.addComment(this.ticket.id,t).subscribe(e=>{this.ticket.comments.push(e),this.commentForm.reset()})}static \u0275fac=function(e){return new(e||i)(s(d),s(r))};static \u0275cmp=c({type:i,selectors:[["app-ticket-detail"]],decls:2,vars:0,template:function(e,g){e&1&&(p(0,"p"),u(1,"ticket-detail works!"),m())},encapsulation:2})};export{f as TicketDetailComponent};
